{"version":3,"sources":["components/Create.jsx","components/Main.jsx","components/Pirate.jsx","App.js","reportWebVitals.js","index.js"],"names":["Create","useState","name","setName","img_url","setImgUrl","treasure_chests_num","setTreasureChestsNum","pirate_catch_phrase","setCatchPhrase","crew_position","setCrewPosition","peg_leg","setPegLeg","eye_patch","setEyePatch","hook_hand","setHookHand","dbErrors","setDbErrors","pirates","setPirates","count","setCount","history","useHistory","useEffect","axios","get","then","res","console","log","data","allPirates","catch","err","error","create","post","push","errors","response","messages","Object","keys","map","att","message","to","idx","style","color","onSubmit","e","preventDefault","pirate","length","includes","width","display","justifyContent","margin","onChange","target","value","type","checked","Main","src","alt","height","marginRight","_id","onClick","delete_id","delete","filter","Pirate","setPirate","id","useParams","App","className","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8c80637.chunk.js","sourcesContent":["import React, { useState, useEffect} from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\n\nconst Create = () => {\n    const [name, setName] = useState(\"\")\n    const [img_url, setImgUrl] = useState(\"\")\n    const [treasure_chests_num, setTreasureChestsNum] = useState(0)\n    const [pirate_catch_phrase, setCatchPhrase] = useState(\"\")\n    const [crew_position, setCrewPosition] = useState(\"Captain\")\n    const [peg_leg, setPegLeg] = useState(true)\n    const [eye_patch, setEyePatch] = useState(true)\n    const [hook_hand, setHookHand] = useState(true)\n    const [dbErrors, setDbErrors] = useState([])   // backend-validation\n    const [pirates, setPirates] = useState([])\n    const [count, setCount] = useState(0)\n    const history = useHistory()\n    \n    // GET ALL PIRATES FROM SERVER\n    useEffect(() => {\n        axios.get(\"http://localhost:8000/api\")\n            .then(res => {\n                console.log(res.data.allPirates);\n                setPirates(res.data.allPirates);\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }, []);\n\n    const createPirate = (e) => {\n        e.preventDefault()\n        // check Captain if exists\n        // when input is Captain, iterate all pirates\n        if (crew_position === \"Captain\"){\n            pirates.map((pirate) => { \n                // count all pirates not Captain\n                if (pirate.crew_position !== \"Captain\"){\n                    count += 1\n                    setCount(count)\n                }\n            })\n            \n            if (count <= pirates.length - 1){\n                if (!dbErrors.includes('Captain already exists')){\n                    setDbErrors([...dbErrors, 'Captain already exists'])\n                }\n            } else{\n                create()\n            }\n        }else{\n            create()\n        }\n    }\n\n    const create = () => {\n        axios.post(\"http://localhost:8000/api/new\", {\n            name,\n            img_url,\n            treasure_chests_num,\n            pirate_catch_phrase,\n            crew_position,\n            peg_leg,\n            eye_patch,\n            hook_hand\n        })\n            .then(res => {\n                // create author successfully, redirect to main page\n                console.log(res);\n                history.push('/pirates')\n            })\n            .catch(err => {\n                console.log(err);\n                const { errors } = err.response.data\n                const messages = Object.keys(errors).map(att => errors[att].message)\n                setDbErrors(messages)\n            })\n    }\n\n    const togglePegLeg = () => {\n        const newPegLeg = !peg_leg\n        setPegLeg(newPegLeg)\n    }\n\n    const toggleEyePatch = () => {\n        const newEyePatch = !eye_patch\n        setEyePatch(newEyePatch)\n    }\n\n    const toggleHookHand = () => {\n        const newHookHand = !hook_hand\n        setHookHand(newHookHand)\n    }\n\n    return (\n        <div>\n            <h1>Add Pirate</h1>\n            <Link to=\"/pirates\">Crew Board</Link>\n            {dbErrors.map((error, idx) => <p key={idx} style={{ color: \"red\" }}> {error} </p>)}\n            <form onSubmit={createPirate} style={{ width: 800, display: 'flex', justifyContent: \"space-around\", margin: \"auto\" }}>\n                <div>\n                    <p>\n                        <label style={{ margin: 5 }}>Name: </label><br />\n                        <input onChange={e => setName(e.target.value)} type=\"text\" value={name} />\n                    </p>\n\n                    <p>\n                        <label style={{ margin: 5 }}>Image url: </label><br/>\n                        <input onChange={e => setImgUrl(e.target.value)} type=\"text\" value={img_url} />\n                    </p>\n\n                    <p>\n                        <label style={{ margin: 5 }}># of Treasure Chests: </label><br />\n                        <input onChange={e => setTreasureChestsNum(e.target.value)} type=\"number\" value={treasure_chests_num} />\n                    </p>\n\n                    <p>\n                        <label style={{ margin: 5 }}>Pirate Catch Phrase: </label><br />\n                        <input onChange={e => setCatchPhrase(e.target.value)} type=\"text\" value={pirate_catch_phrase} />\n                    </p>\n                </div>\n\n                <div>\n                    <p>\n                        <select onChange={e => setCrewPosition(e.target.value)} value={crew_position}>\n                            <option value=\"Captain\">Captain</option>\n                            <option value=\"First Mate\">First Mate</option>\n                            <option value=\"Boatswain\">Boatswain</option>\n                            <option value=\"Powder Monkey\">Powder Monkey</option>\n                        </select>\n                    </p>\n\n                    <p> <input onChange={() => togglePegLeg()} type=\"checkbox\" checked={peg_leg} /> Peg Leg</p>\n                    <p> <input onChange={() => toggleEyePatch()} type=\"checkbox\" checked={eye_patch} /> Eye Patch</p>\n                    <p> <input onChange={() => toggleHookHand()} type=\"checkbox\" checked={hook_hand} />Hook Hand</p>\n                    <button>Add Pirate</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Create\n","import React, {useEffect, useState} from 'react'\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\nconst Main = () => {\n    const [pirates, setPirates] = useState([])\n\n    // GET ALL PIRATES FROM SERVER\n    useEffect(() => {\n        axios.get(\"http://localhost:8000/api\")\n            .then(res => {\n                console.log(res.data.allPirates);\n                setPirates(res.data.allPirates);\n            })\n            .catch(err => {\n                console.error(err)\n            })\n    }, []);\n\n    // DELETE ONE PIRATE FROM DB\n    const deletePirate = (delete_id) => {\n        axios.delete('http://localhost:8000/api/' + delete_id)\n            .then(res => {\n                console.log(res.data)\n                // remove pirate from DOM after success\n                setPirates(pirates.filter(pirate => pirate._id !== delete_id))\n            })\n            .catch(err => console.error(err))\n    }\n    \n    // list all pirates\n    // add a pirate\n    // read o\n    // delete a pirate\n    return (\n        <div>\n            <h1>Pirate Crew</h1>\n            <Link to=\"/pirate/new\">Add Pirate</Link>\n            {pirates.map((pirate, idx) => \n                <div key={idx} style={{ margin: 20 }}>\n                    <h3>{pirate.name}</h3>\n                    <img src={pirate.img_url} alt={`img for ${pirate.name}`} style={{ width: 100, height: 100 }}/>\n                    <button style={{ marginRight: 10 }}>\n                        <Link to={`/pirate/${pirate._id}`}>View Pirate</Link>\n                    </button>\n                    <button onClick={e => { deletePirate(pirate._id) }}>\n                        Walk the Plank\n                    </button>\n                </div>\n            )}\n        </div>\n    )\n}\nexport default Main\n","import React, { useState, useEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport axios from 'axios'\n\nconst Pirate = () => {\n    const [pirate, setPirate] = useState({})\n    const { id } = useParams()\n\n    // fetch signle pirate by id\n    useEffect(() => {\n        axios.get(\"http://localhost:8000/api/\" + id)\n            .then(res => setPirate(res.data))\n            .catch(err => console.error(err))\n    }, [id])\n\n    return (\n        <div>\n            {/* {JSON.stringify(pirate)} */}\n            <h1>{pirate.name}</h1> \n            <Link to=\"/pirates\">Crew Board</Link>\n\n            <div style={{ width: 800, display: 'flex', justifyContent: \"space-around\", margin: \"auto\"}}>\n                <div>\n                    <img src={pirate.img_url} alt={`img for ${pirate.name}`} style={{ width: 100, height: 100 }} />\n                    <h2>\"{pirate.pirate_catch_phrase}\"</h2>\n                </div>\n            \n                <div>\n                    <h2>About</h2>\n                    <p>Position: {pirate.crew_position}</p>\n                    <p>Treasure: {pirate.treasure_chests_num}</p>\n                    <p>Peg Leg: {pirate.peg_leg ? 'Yes' : 'No'} <button>{!pirate.peg_leg ? 'Yes' : 'No'}</button></p>\n                    <p>Eye Patch: {pirate.eye_patch ? 'Yes' : 'No'} <button>{!pirate.eye_patch ? 'Yes' : 'No'}</button></p>\n                    <p>Hook Hand: {pirate.hook_hand ? 'Yes' : 'No'} <button>{!pirate.hook_hand ? 'Yes' : 'No'}</button></p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Pirate\n","import './App.css';\nimport { Switch, Route } from 'react-router-dom';\nimport Create from \"./components/Create\"\nimport Main from \"./components/Main\"\nimport Pirate from \"./components/Pirate\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/pirates\">\n            <Main />\n          </Route>\n\n          <Route exact path=\"/pirate/new\">\n              <Create />\n          </Route>\n\n          <Route exact path=\"/pirate/:id\">\n            <Pirate />\n          </Route>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}